<style scoped>
	.unselected li, .selected li {
		cursor: pointer;
	}

	.selected li {
		/*border: 1px solid #0a0;
	background: #EEEEEE;*/
	}

</style>

<div class="modal-header">
	<button type="button" class="close" data-dismiss="modal" aria-label="Close">
		<span aria-hidden="true">&times;</span>
	</button>
	<h4 class="modal-title">Cerca</h4>
</div>
<div class="modal-body">
	<div class="input-group" style="margin-bottom:10px">
		<span class="input-group-addon">
			Cerca
		</span>
		<input type="text" ng-model="query" class="form-control" placeholder="Ricerca..." ng-change="search()" ng-model-options="{debounce:300}">
		<span class="input-group-btn">
			<button class="btn btn-primary"><i class="fa fa-search"></i>!</button>
		</span>
	</div>
	<div ng-if="status" class="alert alert-{{ status.type }}">{{ status.msg }}</div>
	<div ng-if="page.data.length">
		<ul class="list-group unselected" id="elements">
			<li ng-repeat="element in page.data" class="list-group-item" ng-click="select(element)">
				<i ng-if="isSelected(element)" class="fa fa-fw fa-check text-success"></i>
				{{ element.name }}
			</li>
		</ul>
	</div>
	<hr>
	<i ng-if="!selected.length">Nessun elemento selezionato</i>
	<div ng-if="selected && selected.length">
		<i>Elementi selezionati:</i>
		<ul class="list-group selected">
			<li class="list-group-item" ng-repeat="element in selected" ng-click="unselect(element)">
				<i class="fa fa-fw fa-check text-success"></i> {{ element.name }}
			</li>
		</ul>
	</div>
</div>
<div class="modal-footer">
	<button type="button" class="btn btn-warning" ng-click="cancel()">Close</button>
	<button type="button" class="btn btn-primary" ng-click="done()">Save</button>
</div>
